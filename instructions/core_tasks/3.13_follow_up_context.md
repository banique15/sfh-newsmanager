---
blueprint_section: "3.13"
difficulty: medium
requires_confirmation: varies
channels: all
required_tools: [context_resolution, conversation_memory]
---

# Follow-up and Context ("it", "that article", "the content")

## Overview

User uses references like "it", "that one", "the article we just made", "update the content", or "add an image to it" in a follow-up message.

People talk in context; we use recent conversation (and long-term memory when available) so users don't have to repeat titles or IDs.

## Why This Approach

Natural conversation includes pronouns and references. Using conversation history makes the experience smooth and user-friendly.

## Prerequisites

- **Required tools:**
  - `context_resolution` - Resolve references to specific articles
  - `conversation_memory` - Access recent conversation history
  
- **Required context:**
  - Recent conversation turns
  - Articles mentioned/created/updated recently

## Step-by-Step Procedure

### 1. **Use Conversation History**

**Action:** Look at last few exchanges (and stored facts) to resolve "it", "that article", etc. to a specific article.

**Tool(s) used:** `context_resolution`, `conversation_memory`

**Resolution strategies:**

**Most recent article:**
- "Publish it" after creating article → that article
- "Add an image to it" after showing search results → first result
- "Update that one" → most recently mentioned

**Explicit recent reference:**
- "Update the gala article" then "publish it" → same article

**Numbered list reference:**
- Show 3 articles, user says "update the first one" → article #1 from list

**Time-based context:**
- "The article we just made" → last created article
- "That draft I asked about yesterday" → search for draft from context

---

### 2. **Proceed as in the Main Flows**

**Action:** Once reference is resolved, follow the right task flow.

**Apply normal confirmation rules:**
- **Destructive/publish actions** → Still require confirmation with article name
- **Read-only** → Execute immediately
- **Create** → Follow creation flow

**Examples:**

**"Publish it" (after creating article):**
1. Resolve "it" → Article ID X
2. Follow [3.6_publish_article.md](3.6_publish_article.md)
3. Confirm: "I'll publish 'Summer Concert 2026'. Is this correct?"

**"Update it with the new date" (after listing articles):**
1. Resolve "it" → Most recent article
2. Follow [3.4_update_content.md](3.4_update_content.md)
3. Confirm: "I'll update 'Event Post' with the new date. Is this correct?"

**"Add an image to that one":**
1. Resolve "that one" → Article from context
2. Follow [3.9_add_hero_image.md](3.9_add_hero_image.md)
3. Generate/get image and confirm

---

### 3. **Confirm Changes with Resolved Name**

**Action:** For destructive actions, state the resolved article name in confirmation.

**Important:** Even though we resolved from context, we name the article explicitly in confirmation so user knows exactly what will change.

**Example:**
> User: "update it"
> Bot: "I'll update 'Summer Concert Series 2026' with... Is this correct?"
> 
> (Not just "I'll update it")

---

## Expected Outcome

Users can say "update it", "publish that one" and we act on the right item, with confirmation when needed showing the resolved article name.

## Error Handling

| Error Scenario | Response |
|---------------|----------|
| **Can't resolve reference** | "Which article do you mean?" (ask for clarification) |
| **Multiple possible references** | "Which one? 1. [recent article A] 2. [recent article B]" |
| **No recent context** | "I'm not sure which article you're referring to. Could you specify the title?" |
| **Reference ambiguous after channel switch** | See [4.13_switch_channel.md](../edge_cases/4.13_switch_channel.md) |

## Cross-References

### Related Instructions
- **ALL content modification tasks** - Can be triggered via pronouns
- [3.10_clarification.md](3.10_clarification.md) - When reference unclear

### Edge Cases
- [4.2_multiple_matches.md](../edge_cases/4.2_multiple_matches.md) - Multiple possible references
- [4.12_thread_vs_new_message.md](../edge_cases/4.12_thread_vs_new_message.md) - Context across threads
- [4.13_switch_channel.md](../edge_cases/4.13_switch_channel.md) - Context across channels

### Tools
- [context_resolution.json](../../tools/ai_tools/context_resolution.json) - Resolve pronouns
- [conversation_memory.json](../../tools/utility_tools/conversation_memory.json) - Access history
